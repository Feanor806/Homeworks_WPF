<Window x:Class="Task5_1_StylesTriggers.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Task5_1_StylesTriggers"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="Панель настроек" 
        MinHeight="270" MinWidth="300"
        MaxHeight="270" MaxWidth="300">
    <Window.Resources>
        <Style x:Key="InteractiveButtonStyle" TargetType="Button" BasedOn="{StaticResource BaseButtonStyle}">
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{StaticResource HoverColor}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="{StaticResource DisabledColor}"/>
                </Trigger>
                <!--
                Решил момент с перекритием подсветки при наведении заведение Template в настройках стиля
                Мультитригер при этом заменен на обычный триггер с проверкой включенного CheckBox
                Иначе не удается устранить стандартное поведение при наведении курсора
                -->
                <!--<MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="IsMouseOver" Value="True"/>
                        <Condition Property="IsEnabled" Value="False"/>
                    </MultiTrigger.Conditions>
                    <Setter Property="Background" Value="{StaticResource DisabledColor}"/>
                </MultiTrigger>-->
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Grid>
        <StackPanel>
            <Label Content="Настройки приложения" 
                   Style="{StaticResource HeaderTextStyle}"
                   Margin="10"/>
            <Button Content="Сохранить" Style="{StaticResource InteractiveButtonStyle}"/>
            <Button Content="Отменить" Style="{StaticResource InteractiveButtonStyle}"/>
            <CheckBox Content="Включить режим"
                      x:Name="ToggleButton"
                      Margin="10"/>
            <Button Content="Специальная кнопка" 
                    Style="{StaticResource InteractiveButtonStyle}"
                    IsEnabled="{Binding IsChecked, ElementName=ToggleButton}"
                    Margin="10"/>
        </StackPanel>
    </Grid>
</Window>
